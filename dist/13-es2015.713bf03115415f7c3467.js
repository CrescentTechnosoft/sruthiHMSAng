(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{fwRw:function(t,e,i){"use strict";i.r(e),i.d(e,"CashCounterModule",function(){return Kt});var o=i("3Pt+"),n=i("ofXK"),s=i("Qu3c"),a=i("bTqV"),r=i("fXoL"),c=i("FKr1"),l=i("8LU1"),b=i("R1ws"),d=i("u47x"),u=i("0EQZ");const p=["input"],h=function(){return{enterDuration:150}},m=["*"],g=new r.s("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}});let f=0;const T={provide:o.p,useExisting:Object(r.V)(()=>C),multi:!0};class v{constructor(t,e){this.source=t,this.value=e}}const y=new r.s("MatRadioGroup");let U=(()=>{class t{constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+f++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new r.o}get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=Object(l.c)(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=Object(l.c)(t),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(t=>{t.checked=this.value===t.value,t.checked&&(this._selected=t)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new v(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.h))},t.\u0275dir=r.Jb({type:t,inputs:{name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"}}),t})(),C=(()=>{class t extends U{}return t.\u0275fac=function(e){return P(e||t)},t.\u0275dir=r.Jb({type:t,selectors:[["mat-radio-group"]],contentQueries:function(t,e,i){if(1&t&&r.Hb(i,_,1),2&t){let t;r.vc(t=r.dc())&&(e._radios=t)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[r.Bb([T,{provide:y,useExisting:t}]),r.zb]}),t})();const P=r.Wb(C);class x{constructor(t){this._elementRef=t}}const N=Object(c.s)(Object(c.w)(x));let w=(()=>{class t extends N{constructor(t,e,i,o,n,s,a,c){super(e),this._changeDetector=i,this._focusMonitor=o,this._radioDispatcher=n,this._animationMode=s,this._providerOverride=a,this._uniqueId="mat-radio-"+ ++f,this.id=this._uniqueId,this.change=new r.o,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,c&&(this.tabIndex=Object(l.f)(c,0)),this._removeUniqueSelectionListener=n.listen((t,e)=>{t!==this.id&&e===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(t){const e=Object(l.c)(t);this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(Object(l.c)(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=Object(l.c)(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}focus(t,e){e?this._focusMonitor.focusVia(this._inputElement,e,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new v(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputChange(t){t.stopPropagation();const e=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),e&&this.radioGroup._emitChangeEvent())}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(U),r.Ob(r.l),r.Ob(r.h),r.Ob(d.h),r.Ob(u.d),r.Ob(String),r.Ob(void 0),r.Ob(String))},t.\u0275dir=r.Jb({type:t,viewQuery:function(t,e){if(1&t&&r.Nc(p,1),2&t){let t;r.vc(t=r.dc())&&(e._inputElement=t.first)}},inputs:{id:"id",checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change"},features:[r.zb]}),t})(),_=(()=>{class t extends w{constructor(t,e,i,o,n,s,a,r){super(t,e,i,o,n,s,a,r)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(y,8),r.Ob(r.l),r.Ob(r.h),r.Ob(d.h),r.Ob(u.d),r.Ob(b.a,8),r.Ob(g,8),r.Zb("tabindex"))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(t,e){1&t&&r.cc("focus",function(){return e._inputElement.nativeElement.focus()}),2&t&&(r.Db("tabindex",null)("id",e.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),r.Gb("mat-radio-checked",e.checked)("mat-radio-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-primary","primary"===e.color)("mat-accent","accent"===e.color)("mat-warn","warn"===e.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[r.zb],ngContentSelectors:m,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input","cdk-visually-hidden",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(t,e){if(1&t&&(r.nc(),r.Ub(0,"label",0,1),r.Ub(2,"span",2),r.Pb(3,"span",3),r.Pb(4,"span",4),r.Ub(5,"input",5,6),r.cc("change",function(t){return e._onInputChange(t)})("click",function(t){return e._onInputClick(t)}),r.Tb(),r.Ub(7,"span",7),r.Pb(8,"span",8),r.Tb(),r.Tb(),r.Ub(9,"span",9),r.Ub(10,"span",10),r.Jc(11,"\xa0"),r.Tb(),r.mc(12),r.Tb(),r.Tb()),2&t){const t=r.wc(1);r.Db("for",e.inputId),r.Cb(5),r.oc("id",e.inputId)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex)("required",e.required),r.Db("name",e.name)("value",e.value)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby)("aria-describedby",e.ariaDescribedby),r.Cb(2),r.oc("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",r.qc(18,h)),r.Cb(2),r.Gb("mat-radio-label-before","before"==e.labelPosition)}},directives:[c.m],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:transform ease 280ms,background-color ease 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5)}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),t})(),J=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[c.n,c.h],c.h]}),t})();var k=i("0IaG"),M=i("/1cH"),I=i("kmnG"),O=i("qFsG"),G=i("tyNb"),D=i("AytR"),F=i("tk/3"),B=i("b9Fr");let A=(()=>{class t{constructor(t,e){this.http=t,this.encoder=e,this.currentUrl=D.a.normUrl+"cash-counter/op-billing",this.extrasUrl=D.a.normUrl+"extras/"}getAll(){return this.http.get(this.currentUrl)}getPatientsList(t){return this.http.get(this.currentUrl+"/search-patients",{params:{search:t}})}getIds(){return this.http.get(this.currentUrl+"/ids")}getPatientDetails(t){return this.http.get(`${this.currentUrl}/patient-details/${t}`)}getFees(t,e){return this.http.get(`${this.currentUrl}/${t}/${e}`)}saveBill(t){return this.http.post(this.currentUrl,t)}getBillYears(){return this.http.get(this.currentUrl+"/years")}getBillNos(t){return this.http.get(`${this.currentUrl}/billnos/${t}`)}getBillDetails(t){return this.http.get(`${this.currentUrl}/${t}`)}updateBillDetails(t,e){return this.http.patch(`${this.currentUrl}/${t}`,e,{responseType:"text"})}deleteBill(t){return this.http.delete(`${this.currentUrl}/${t}`,{responseType:"text"})}addPayType(t){return this.http.post(`${this.extrasUrl}pay-type`,`pay-type=${encodeURIComponent(t)}`,{responseType:"text"})}removePayType(t){return this.http.delete(`${this.extrasUrl}pay-type/${encodeURIComponent(t)}`,{responseType:"text"})}addCardType(t){return this.http.post(`${this.extrasUrl}card-type`,`card-type=${encodeURIComponent(t)}`,{responseType:"text"})}removeCardType(t){return this.http.delete(`${this.extrasUrl}card-type/${encodeURIComponent(t)}`,{responseType:"text"})}GetInputs(){return{search:"",ddlPID:"",pid:"0",name:"",age:"",gender:"Male",contact:"",cons:"",feesType:"",fees:"",otherType:"",total:0,discount:0,subTotal:0,paying:0,due:0,refund:0,cardNo:"",cardType:"",cardExpiry:"",payType:"Cash",year:"",billNo:""}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(F.b),r.Yb(B.a))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();var S=i("1G5W"),L=i("Kj3r"),V=i("JX91"),E=i("lJxs"),R=i("XNiG"),z=i("5eHb"),H=i("OlR4"),Y=i("gren");const j=["cardTemplate"],K=["patientsTemplate"],q=["cost"],Q=["feesType"];function W(t,e){if(1&t&&(r.Ub(0,"option",60),r.Jc(1),r.Tb()),2&t){const t=e.$implicit;r.oc("value",t),r.Cb(1),r.Kc(t)}}function X(t,e){if(1&t&&(r.Ub(0,"option",60),r.Jc(1),r.Tb()),2&t){const t=e.$implicit;r.oc("value",t.id),r.Cb(1),r.Kc(t.billNo)}}function Z(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",3),r.Ub(1,"div",57),r.Ub(2,"label",10),r.Jc(3,"Bill Year"),r.Tb(),r.Ub(4,"select",58),r.cc("change",function(){return r.zc(t),r.gc().getBillNos()}),r.Ub(5,"option",20),r.Jc(6,"--Select--"),r.Tb(),r.Hc(7,W,2,2,"option",21),r.Tb(),r.Tb(),r.Ub(8,"div",57),r.Ub(9,"label",10),r.Jc(10,"Bill No"),r.Tb(),r.Ub(11,"select",59),r.cc("change",function(){return r.zc(t),r.gc().getBillDetails()}),r.Ub(12,"option",20),r.Jc(13,"--Select--"),r.Tb(),r.Hc(14,X,2,2,"option",21),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.gc();r.Cb(7),r.oc("ngForOf",t.billYears),r.Cb(7),r.oc("ngForOf",t.billNos)}}function tt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",8),r.Ub(1,"div",61),r.Ub(2,"input",62),r.cc("keyup",function(e){return r.zc(t),r.gc().searchPatients(e)}),r.Tb(),r.Tb(),r.Tb()}}function et(t,e){if(1&t&&(r.Ub(0,"option",60),r.Jc(1),r.Tb()),2&t){const t=e.$implicit;r.oc("value",t.id),r.Cb(1),r.Kc(t.uhid)}}function it(t,e){if(1&t){const t=r.Vb();r.Ub(0,"select",63),r.cc("change",function(){return r.zc(t),r.gc().getPatientDetails()}),r.Ub(1,"option",20),r.Jc(2,"--select--"),r.Tb(),r.Hc(3,et,2,2,"option",21),r.Tb()}if(2&t){const t=r.gc();r.Cb(3),r.oc("ngForOf",t.pidList)}}function ot(t,e){if(1&t&&r.Pb(0,"input",15),2&t){const t=r.gc();r.pc("value",t.formGroup.get("oldPtId").value)}}function nt(t,e){if(1&t&&(r.Ub(0,"option",60),r.Jc(1),r.Tb()),2&t){const t=e.$implicit;r.oc("value",t.id),r.Cb(1),r.Kc(t.name)}}function st(t,e){if(1&t&&(r.Ub(0,"mat-option",60),r.Jc(1),r.Tb()),2&t){const t=e.$implicit;r.oc("value",t),r.Cb(1),r.Lc(" ",t,"")}}function at(t,e){if(1&t){const t=r.Vb();r.Sb(0,64),r.Ub(1,"tr",65),r.Ub(2,"td"),r.Jc(3),r.Tb(),r.Ub(4,"td"),r.Jc(5),r.Tb(),r.Ub(6,"td"),r.Jc(7),r.hc(8,"number"),r.Tb(),r.Ub(9,"td"),r.Ub(10,"input",66),r.cc("keyup",function(){return r.zc(t),r.gc().calculateTotal()}),r.Tb(),r.Tb(),r.Ub(11,"td"),r.Ub(12,"button",67),r.cc("click",function(){r.zc(t);const i=e.index;return r.gc().removeFees(i)}),r.Pb(13,"i",68),r.Tb(),r.Tb(),r.Tb(),r.Rb()}if(2&t){const t=e.$implicit,i=e.index;r.Cb(1),r.oc("formGroupName",i),r.Cb(2),r.Kc(t.get("category").value),r.Cb(2),r.Kc(t.get("feesType").value),r.Cb(2),r.Kc(r.jc(8,4,t.get("cost").value,"1.2-2"))}}function rt(t,e){if(1&t&&(r.Ub(0,"mat-radio-button",60),r.Jc(1),r.Tb()),2&t){const t=e.$implicit;r.oc("value",t),r.Cb(1),r.Lc("",t," ")}}function ct(t,e){if(1&t&&(r.Ub(0,"mat-option",60),r.Jc(1),r.Tb()),2&t){const t=e.$implicit;r.oc("value",t),r.Cb(1),r.Kc(t)}}function lt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",69),r.Ub(1,"mat-form-field"),r.Ub(2,"mat-label"),r.Jc(3,"Other Payment"),r.Tb(),r.Pb(4,"input",70),r.Ub(5,"button",71),r.cc("click",function(){return r.zc(t),r.gc().addPayType()}),r.Ub(6,"i",72),r.Jc(7,"add_circle"),r.Tb(),r.Tb(),r.Ub(8,"button",73),r.cc("click",function(){return r.zc(t),r.gc().removePayType()}),r.Ub(9,"i",72),r.Jc(10,"remove_circle"),r.Tb(),r.Tb(),r.Ub(11,"mat-autocomplete",null,74),r.Hc(13,ct,2,2,"mat-option",21),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.wc(12),e=r.gc();r.Cb(4),r.oc("matAutocomplete",t),r.Cb(9),r.oc("ngForOf",e.paymentMethods)}}function bt(t,e){if(1&t&&(r.Ub(0,"mat-option",60),r.Jc(1),r.Tb()),2&t){const t=e.$implicit;r.oc("value",t),r.Cb(1),r.Kc(t)}}function dt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",75),r.Ub(1,"h4",76),r.Jc(2,"Card Details"),r.Tb(),r.Tb(),r.Ub(3,"div",3),r.Ub(4,"mat-form-field"),r.Ub(5,"mat-label"),r.Jc(6,"Card No"),r.Tb(),r.Pb(7,"input",77),r.Tb(),r.Tb(),r.Ub(8,"div",3),r.Ub(9,"mat-form-field"),r.Ub(10,"mat-label"),r.Jc(11,"Card Type"),r.Tb(),r.Pb(12,"input",78),r.Ub(13,"button",71),r.cc("click",function(){return r.zc(t),r.gc().addCardType()}),r.Ub(14,"i",72),r.Jc(15,"add_circle"),r.Tb(),r.Tb(),r.Ub(16,"button",73),r.cc("click",function(){return r.zc(t),r.gc().removeCardType()}),r.Ub(17,"i",72),r.Jc(18,"remove_circle"),r.Tb(),r.Tb(),r.Ub(19,"mat-autocomplete",null,74),r.Hc(21,bt,2,2,"mat-option",21),r.Tb(),r.Tb(),r.Tb(),r.Ub(22,"div",3),r.Ub(23,"mat-form-field"),r.Ub(24,"mat-label"),r.Jc(25,"Card Expiry"),r.Tb(),r.Pb(26,"input",79),r.Tb(),r.Tb(),r.Ub(27,"div",80),r.Ub(28,"div",4),r.Ub(29,"button",81),r.Jc(30,"Close"),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.wc(20),e=r.gc();r.Cb(12),r.oc("matAutocomplete",t),r.Cb(9),r.oc("ngForOf",e.cardTypes)}}function ut(t,e){if(1&t){const t=r.Vb();r.Ub(0,"tr"),r.Ub(1,"td"),r.Jc(2),r.Tb(),r.Ub(3,"td"),r.Jc(4),r.Tb(),r.Ub(5,"td"),r.Jc(6),r.Tb(),r.Ub(7,"td"),r.Ub(8,"button",85),r.cc("click",function(){r.zc(t);const i=e.$implicit;return r.gc(2).setPatientID(i.id)}),r.Pb(9,"span",86),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit;r.Cb(2),r.Kc(t.id),r.Cb(2),r.Kc(t.name),r.Cb(2),r.Kc(t.contact)}}function pt(t,e){if(1&t&&(r.Ub(0,"div",75),r.Ub(1,"h4",76),r.Jc(2,"Patients List"),r.Tb(),r.Tb(),r.Ub(3,"div",82),r.Ub(4,"table",83),r.Ub(5,"thead"),r.Ub(6,"th"),r.Jc(7,"ID"),r.Tb(),r.Ub(8,"th"),r.Jc(9,"Name"),r.Tb(),r.Ub(10,"th"),r.Jc(11,"Phone No"),r.Tb(),r.Ub(12,"th"),r.Jc(13,"Select"),r.Tb(),r.Tb(),r.Ub(14,"tbody"),r.Hc(15,ut,10,3,"tr",84),r.Tb(),r.Tb(),r.Tb(),r.Ub(16,"div",80),r.Ub(17,"div",4),r.Ub(18,"button",81),r.Jc(19,"Close"),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.gc();r.Cb(15),r.oc("ngForOf",t.searchList)}}let ht=(()=>{class t{constructor(t,e,i,o,n,s,a){this.service=t,this.toastr=e,this.common=i,this.dialog=o,this.ngxLoaderService=n,this.renderer=s,this.fb=a}ngOnInit(){this.common.mainData.next({header:"OP Billing",treeView:"liCashCounter",subTreeView:"",menu:"liOPBill"}),this.initProperties(),this.autoCompleteFeesType(),this.service.getAll().pipe(Object(S.a)(this.destroy$)).subscribe({next:t=>{this.pidList.push(...t.pid),this.consList.push(...t.cons),this.feesList.push(...t.fees),this.testList.push(...t.lab),this.groupTestList.push(...t.groupTests),this.profilesList.push(...t.profiles);const e=t.fees.map(t=>t.name).concat(t.lab.map(t=>t.name),t.groupTests.map(t=>t.name),t.profiles.map(t=>t.name)).sort();this.feesTypes.push(...e),this.paymentMethods.push(...t.payType),this.cardTypes.push(...t.cardType);const i=localStorage.getItem("PID");null!==i&&(localStorage.removeItem("PID"),this.setPatientID(parseInt(i)))}})}searchPatients(t){"Enter"===t.key&&""!==this.formGroup.get("search").value&&this.service.getPatientsList(this.formGroup.get("search").value).pipe(Object(S.a)(this.destroy$)).subscribe({next:t=>{t.patients.length>0?(this.searchList.splice(0,this.searchList.length,...t.patients),this.dialog.open(this.patientsTemplate)):this.toastr.info("No Patients Found","Empty Data")}})}setPatientID(t){this.formGroup.get("ptId").patchValue(t.toString()),this.dialog.closeAll(),this.searchList.length=0,this.getPatientDetails()}getPatientDetails(){const t=this.formGroup.get("ptId").value;""!==t&&this.service.getPatientDetails(t).pipe(Object(S.a)(this.destroy$)).subscribe({next:t=>{this.formGroup.patchValue({name:t.name,age:t.age,gender:t.gender,contact:t.contact,consultant:t.consultant})}})}getFees(t){if("Enter"===t.key){const t=this.formGroup.get("feesType").value,e=this.feesList.findIndex(e=>e.name===t),i=e>-1?0:this.testList.findIndex(e=>e.name===t),o=e>-1||i>-1?0:this.groupTestList.findIndex(e=>e.name===t),n=e>-1||i>-1||o>-1?0:this.profilesList.findIndex(e=>e.name===t);let s="",a="";if(e>-1?s=this.feesList[e].department:i>-1?(s="Lab",a="Test"):o>-1?(s="Lab",a="GroupTest"):n>-1&&(s="Lab",a="Profile"),""!==s)if(this.formGroup.get("addedFees").controls.findIndex(e=>e.get("feesType").value===t)>-1)this.toastr.warning(t+" is already added");else{let t="",r=0;switch(a){case"":t="fees-cost",r=this.feesList[e].id;break;case"Test":t="test-cost",r=this.testList[i].id;break;case"GroupTest":t="group-test-cost",r=this.groupTestList[o].id;break;case"Profile":t="profile-cost",r=this.profilesList[n].id}this.service.getFees(t,r).pipe(Object(S.a)(this.destroy$)).subscribe({next:t=>{this.tempData.dept=s,this.tempData.feesId=r,this.tempData.testType=a,this.tempData.category=t.category,this.formGroup.controls.cost.patchValue(t.cost),this.renderer.selectRootElement(this.cost.nativeElement).focus()}})}}}addFees(t){"Enter"===t.key&&null!==this.formGroup.get("cost").value&&""!==this.tempData.dept&&(this.formGroup.get("addedFees").push(this.fb.group({dept:[this.tempData.dept],category:[this.tempData.category],feesType:[this.formGroup.get("feesType").value],feesId:[this.tempData.feesId],cost:[this.formGroup.get("cost").value],testType:[this.tempData.testType],discount:[0]})),this.tempData.dept="",this.calculateTotal(),this.formGroup.patchValue({feesType:"",cost:null}),this.renderer.selectRootElement(this.feesType.nativeElement).focus())}removeFees(t){this.formGroup.get("addedFees").removeAt(t),this.calculateTotal()}getPayingType(){return"Others"!==this.formGroup.get("payType").value?this.formGroup.get("payType").value:this.formGroup.get("otherType").value}saveBill(){""==this.formGroup.get("ptId").value?this.toastr.info("Select the Patient ID"):""===this.formGroup.get("consultant").value?this.toastr.info("Select the Consultant Name"):0===this.formGroup.get("addedFees").controls.length?this.toastr.info("No Fees were Added!!!"):""===this.getPayingType()?this.toastr.info("Select / Enter Paying Type"):(this.ngxLoaderService.start(),this.service.saveBill(this.formGroup.getRawValue()).pipe(Object(S.a)(this.destroy$)).subscribe({next:t=>{t.status?(Swal.fire({title:t.message,text:"Bill No is "+t.bill_no,icon:"success",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Print the Bill",cancelButtonText:"Close",allowOutsideClick:!1}).then(e=>{e.isConfirmed&&this.common.printPage(`op-bill/${t.id}/hospital`)}),this.resetPage()):this.toastr.error("An error occured while saving the Bill","Error")},complete:()=>this.ngxLoaderService.stop()}))}view(){this.editMode=!0,this.pidList=[],this.formGroup.get("addedFees").patchValue([]),this.service.getBillYears().pipe(Object(S.a)(this.destroy$)).subscribe({next:t=>{this.billYears.splice(0,this.billYears.length,...t.years),this.billNos.splice(0,this.billNos.length,...t.bill_nos),t.years.length>0?this.formGroup.get("year").patchValue(t.years[0]):this.billNos.length=0}})}getBillNos(){const t=this.formGroup.get("year").value;""===t?this.billNos.length=0:this.service.getBillNos(t).pipe(Object(S.a)(this.destroy$)).subscribe({next:t=>{this.billNos.splice(0,this.billNos.length,...t)}})}getBillDetails(){""!==this.formGroup.get("year").value&&""!==this.formGroup.get("billNo").value&&this.service.getBillDetails(this.formGroup.get("billNo").value).pipe(Object(S.a)(this.destroy$)).subscribe({next:t=>{this.formGroup.patchValue({oldPtId:t.data.pt_id,name:t.data.name,age:t.data.age,gender:t.data.gender,contact:t.data.contact,consultant:t.data.consultant,total:t.data.total,discount:t.data.discount,subTotal:t.data.sub_total,paying:t.data.paying,due:t.data.due,refund:t.data.refund,payType:t.data.pay_type,otherType:t.data.other_type,cardNo:t.data.card_no,cardType:t.data.card_type,cardExpiry:t.data.card_expiry}),this.formGroup.get("addedFees").controls.length=0,t.fees_data.forEach(t=>{this.formGroup.get("addedFees").push(this.fb.group({dept:[t.dept],category:[t.category],feesType:[t.fees_type],feesId:[t.fees_id],cost:[t.cost],testType:[t.test_type],discount:[t.discount]}))})}})}updateBillDetails(){this.editMode&&(""===this.formGroup.get("year").value?this.toastr.info("Select the Bill Year"):""===this.formGroup.get("billNo").value?this.toastr.info("Select the Bill No"):""===this.formGroup.get("consultant").value?this.toastr.info("Select the Consultant Name"):0===this.formGroup.get("addedFees").controls.length?this.toastr.info("No Fees were Added!!!"):""===this.getPayingType()?this.toastr.info("Select / Enter Paying Type"):(this.ngxLoaderService.start(),this.service.updateBillDetails(this.formGroup.get("billNo").value,this.formGroup.getRawValue()).toPromise().then(t=>{this.toastr.success(t)}).finally(()=>this.ngxLoaderService.stop())))}deleteBill(){this.editMode&&(""===this.formGroup.get("year").value?this.toastr.info("Select the Bill Year"):""===this.formGroup.get("billNo").value?this.toastr.info("Select the Bill No"):this.common.triggerSwal("Do you want to Delete the Bill?").then(t=>{t.isConfirmed&&(this.ngxLoaderService.start(),this.service.deleteBill(this.formGroup.get("billNo").value).toPromise().then(t=>{this.toastr.success(t),this.resetPage()}).finally(()=>this.ngxLoaderService.stop()))}))}PrintBill(){""===this.formGroup.get("year").value?this.toastr.error("Select the Bill Year"):""===this.formGroup.get("billNo").value?this.toastr.error("Select the Bill No"):this.common.printPage(`op-bill/${this.formGroup.get("billNo").value}/${this.formGroup.get("billType").value}`)}resetPage(){this.editMode=!1,this.formGroup.patchValue({oldPtId:"",search:"",ptId:"",pid:"0",name:"",age:"",gender:"Male",contact:"",consultant:"",feesType:"",cost:null,otherType:"",total:0,discount:0,subTotal:0,paying:0,due:0,refund:0,cardNo:"",cardType:"",cardExpiry:"",payType:"Cash",year:"",billNo:""}),this.formGroup.get("addedFees").controls.length=0,this.billYears.length=0,this.billNos.length=0,this.searchList.length=0,this.populateID()}populateID(){this.service.getIds().toPromise().then(t=>{this.pidList.splice(0,this.pidList.length,...t)})}showCardDialog(t){"Card"===t&&this.dialog.open(this.cardTemplate)}calculateTotal(){let t=0,e=0;this.formGroup.get("addedFees").controls.forEach(i=>{t+=parseFloat(i.get("cost").value),e+=i.get("discount").value});const i=t-e;this.formGroup.patchValue({total:t.toFixed(2),discount:e.toFixed(2),subTotal:i.toFixed(2),paying:i.toFixed(2),due:0,refund:0})}changePayingAmount(){var t,e;const i=(null!==(t=this.formGroup.get("subTotal").value)&&void 0!==t?t:0)-(null!==(e=this.formGroup.get("paying").value)&&void 0!==e?e:0);0===i||i>0?(this.formGroup.get("due").patchValue(i),this.formGroup.get("refund").patchValue(0)):(this.formGroup.get("refund").patchValue(Math.abs(i)),this.formGroup.get("due").patchValue(0))}addPayType(){const t=this.formGroup.get("otherType").value;""===t||this.paymentMethods.includes(t)||this.service.addPayType(t).toPromise().then(e=>{this.toastr.success(e),this.paymentMethods.push(t)},t=>console.log(t))}removePayType(){const t=this.formGroup.get("otherType").value;this.paymentMethods.includes(t)&&this.service.removePayType(t).toPromise().then(e=>{const i=this.paymentMethods.findIndex(e=>e===t);this.paymentMethods.splice(i,1),this.formGroup.get("otherType").patchValue(""),this.toastr.success(e)})}addCardType(){const t=this.formGroup.get("cardType").value;""===t||this.cardTypes.includes(t)||this.service.addCardType(t).toPromise().then(e=>{this.toastr.success(e),this.cardTypes.push(t)})}removeCardType(){const t=this.formGroup.get("cardType").value;this.cardTypes.includes(t)&&this.service.removeCardType(t).toPromise().then(e=>{const i=this.cardTypes.findIndex(e=>e===t);this.cardTypes.splice(i,1),this.formGroup.get("cardType").patchValue(""),this.toastr.success(e)})}get addedFees(){return this.formGroup.get("addedFees")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}initProperties(){this.payTypes=["Cash","Card","Others"],this.searchList=[],this.pidList=[],this.consList=[],this.feesList=[],this.testList=[],this.groupTestList=[],this.profilesList=[],this.billYears=[],this.billNos=[],this.cardTypes=[],this.paymentMethods=[],this.feesTypes=[],this.editMode=!1,this.destroy$=new R.a,this.formGroup=new o.j({oldPtId:new o.h({value:"",disabled:!0}),search:new o.h(""),ptId:new o.h(""),name:new o.h(""),age:new o.h(""),gender:new o.h("Male"),billType:new o.h("hospital"),contact:new o.h(""),consultant:new o.h(""),feesType:new o.h(""),cost:new o.h(null),otherType:new o.h(""),total:new o.h(0),discount:new o.h(0),subTotal:new o.h(0),paying:new o.h(0),due:new o.h(0),refund:new o.h(0),cardNo:new o.h(""),cardType:new o.h(""),cardExpiry:new o.h(""),payType:new o.h("Cash"),year:new o.h(""),billNo:new o.h(""),addedFees:new o.e([])}),this.tempData={dept:"",category:"",testType:"",billYear:"",billNo:null,cost:"0",feesId:null}}autoCompleteFeesType(){this.filteredFeesTypes$=this.formGroup.controls.feesType.valueChanges.pipe(Object(L.a)(500),Object(V.a)(""),Object(E.a)(t=>""===t?[]:this.feesTypes.filter(e=>e.toLowerCase().startsWith(t.toLowerCase()))))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(A),r.Ob(z.b),r.Ob(H.a),r.Ob(k.a),r.Ob(Y.b),r.Ob(r.G),r.Ob(o.g))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-op-billing"]],viewQuery:function(t,e){if(1&t&&(r.Nc(j,1),r.Nc(K,1),r.Nc(q,1),r.Nc(Q,1)),2&t){let t;r.vc(t=r.dc())&&(e.cardTemplate=t.first),r.vc(t=r.dc())&&(e.patientsTemplate=t.first),r.vc(t=r.dc())&&(e.cost=t.first),r.vc(t=r.dc())&&(e.feesType=t.first)}},features:[r.Bb([A])],decls:157,vars:26,consts:[[3,"formGroup"],[1,"container-fluid"],[1,"pl-2","pr-2","background-All"],[1,"row"],[1,"col"],[1,"ml-lg-2",2,"font-size","18px","font-weight","bold"],["class","row",4,"ngIf"],["class","row mt-2",4,"ngIf"],[1,"row","mt-2"],[1,"col-lg-1","col-md-1","col-sm-2","col-4"],[1,"badge"],[1,"col-lg-2","col-md-2","col-sm-3","col-8"],["class","form-control form-control-sm","formControlName","ptId",3,"change",4,"ngIf"],["class","form-control form-control-sm","disabled","",3,"value",4,"ngIf"],[1,"col-lg-3","col-md-3","col-sm-4","col-8","mt-lg-0","mt-1"],["disabled","",1,"form-control","form-control-sm",3,"value"],[1,"col-lg-1","col-md-1","col-sm-3","col-8","mt-lg-0","mt-1"],[1,"col-lg-2","col-md-2","col-sm-3","col-8","mt-lg-0","mt-1"],[1,"row","mt-lg-1"],["formControlName","consultant",1,"form-control","form-control-sm"],["value",""],[3,"value",4,"ngFor","ngForOf"],[2,"font-size","18px","font-weight","bold"],[1,"col-lg-2"],["formControlName","billType",1,"form-control","form-control-sm"],["value","hospital"],["value","clinic"],[1,"col-lg-5","col-md-5","col-12"],[1,"col-lg-8","col-md-8","col-sm-5"],["appearance","outline"],["matInput","","formControlName","feesType",3,"matAutocomplete","keyup"],["feesType",""],["feesTypeAutoComplete","matAutocomplete"],[1,"col-lg-4","col-md-4","col-sm-3"],["matInput","","type","number","inputmode","numeric","formControlName","cost",3,"keyup"],["cost",""],[1,"col-lg-7","col-md-7","col-12","tabPanel","table-responsive"],[1,"table","table-bordered","table-hover","table-sm"],["formArrayName","addedFees",4,"ngFor","ngForOf"],[1,"col-lg-5","col-md-5","col-sm-5","col-12"],["formControlName","payType",3,"click"],["class","input-group",4,"ngIf"],[1,"col-lg-7","col-md-7","col-sm-7","col-12"],[1,"col-lg-2","col-md-3","col-4"],[1,"col-lg-2","col-md-3","col-8"],["readonly","",1,"form-control","form-control-sm",3,"value"],["type","number","inputmode","numeric","formControlName","paying",1,"form-control","form-control-sm",3,"keyup"],[1,"col-12"],[1,"text-center"],[1,"btn","btn-success","btn-sm",3,"disabled","click"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"btn","btn-info","btn-sm",3,"disabled","click"],[1,"btn","btn-danger","btn-sm",3,"disabled","click"],[1,"btn","btn-warning","btn-sm",3,"disabled","click"],[1,"btn","btn-primary","btn-sm",3,"click"],["cardTemplate",""],["patientsTemplate",""],[1,"col-lg-2","col-md-3","col-sm-4","col-6"],["formControlName","year",1,"form-control",3,"change"],["formControlName","billNo",1,"form-control",3,"change"],[3,"value"],[1,"col-lg-3","col-md-3","col-sm-5","col-12"],["type","search","placeholder","Search for Patients(Name,Mobile)","formControlName","search",1,"form-control","form-control-sm",3,"keyup"],["formControlName","ptId",1,"form-control","form-control-sm",3,"change"],["formArrayName","addedFees"],[3,"formGroupName"],["type","number","formControlName","discount",3,"keyup"],[1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"fa","fa-trash-alt"],[1,"input-group"],["matInput","","formControlName","otherType",3,"matAutocomplete"],["matSuffix","","mat-icon-button","","color","primary",3,"click"],[1,"material-icons"],["matSuffix","","mat-icon-button","","color","warn",3,"click"],["otherType","matAutocomplete"],[1,"modal-title","text-center",2,"width","100%"],[1,"green","font-weight-bold"],["matInput","","formControlName","cardNo","autocomplete","off"],["matInput","","formControlName","cardType",3,"matAutocomplete"],["type","date","matInput","","formControlName","cardExpiry","autocomplete","off"],[1,"row","text-center"],["mat-dialog-close","",1,"btn","btn-primary"],[1,"table-responsive",2,"max-height","200px"],["id","tblPatientList",1,"table","table-bordered","table-sm"],[4,"ngFor","ngForOf"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-location-arrow"]],template:function(t,e){if(1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"div",2),r.Ub(3,"div",3),r.Ub(4,"div",4),r.Ub(5,"label",5),r.Jc(6,"\xa0Patient Details"),r.Tb(),r.Tb(),r.Tb(),r.Hc(7,Z,15,2,"div",6),r.Hc(8,tt,3,0,"div",7),r.Ub(9,"div",8),r.Ub(10,"div",9),r.Ub(11,"label",10),r.Jc(12,"Patient ID/UHID"),r.Tb(),r.Tb(),r.Ub(13,"div",11),r.Hc(14,it,4,1,"select",12),r.Hc(15,ot,1,1,"input",13),r.Tb(),r.Ub(16,"div",9),r.Ub(17,"label",10),r.Jc(18," Patient Name"),r.Tb(),r.Tb(),r.Ub(19,"div",14),r.Pb(20,"input",15),r.Tb(),r.Ub(21,"div",9),r.Ub(22,"label",10),r.Jc(23," Age"),r.Tb(),r.Tb(),r.Ub(24,"div",16),r.Pb(25,"input",15),r.Tb(),r.Ub(26,"div",9),r.Ub(27,"label",10),r.Jc(28," Gender"),r.Tb(),r.Tb(),r.Ub(29,"div",17),r.Pb(30,"input",15),r.Tb(),r.Tb(),r.Ub(31,"div",18),r.Ub(32,"div",9),r.Ub(33,"label",10),r.Jc(34,"Phone No"),r.Tb(),r.Tb(),r.Ub(35,"div",17),r.Pb(36,"input",15),r.Tb(),r.Ub(37,"div",9),r.Ub(38,"label",10),r.Jc(39," Consultant"),r.Tb(),r.Tb(),r.Ub(40,"div",14),r.Ub(41,"select",19),r.Ub(42,"option",20),r.Jc(43,"Select"),r.Tb(),r.Hc(44,nt,2,2,"option",21),r.Tb(),r.Tb(),r.Tb(),r.Pb(45,"br"),r.Tb(),r.Pb(46,"hr"),r.Ub(47,"div",2),r.Ub(48,"div",3),r.Ub(49,"div",4),r.Ub(50,"label",22),r.Jc(51,"\xa0Bill Details"),r.Tb(),r.Tb(),r.Tb(),r.Pb(52,"hr"),r.Ub(53,"div",3),r.Ub(54,"div",23),r.Ub(55,"label",22),r.Jc(56,"\xa0Select Bill type "),r.Tb(),r.Tb(),r.Ub(57,"div",14),r.Ub(58,"select",24),r.Ub(59,"option",25),r.Jc(60,"Hospital"),r.Tb(),r.Ub(61,"option",26),r.Jc(62,"Clinic"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Pb(63,"hr"),r.Ub(64,"div",3),r.Ub(65,"div",27),r.Ub(66,"div",3),r.Ub(67,"div",28),r.Ub(68,"mat-form-field",29),r.Ub(69,"mat-label"),r.Jc(70,"Fees Type"),r.Tb(),r.Ub(71,"input",30,31),r.cc("keyup",function(t){return e.getFees(t)}),r.Tb(),r.Ub(73,"mat-autocomplete",null,32),r.Hc(75,st,2,2,"mat-option",21),r.hc(76,"async"),r.Tb(),r.Tb(),r.Tb(),r.Ub(77,"div",33),r.Ub(78,"mat-form-field",29),r.Ub(79,"mat-label"),r.Jc(80,"Cost"),r.Tb(),r.Ub(81,"input",34,35),r.cc("keyup",function(t){return e.addFees(t)}),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(83,"div",36),r.Ub(84,"table",37),r.Ub(85,"thead"),r.Ub(86,"tr"),r.Ub(87,"th"),r.Jc(88," Category "),r.Tb(),r.Ub(89,"th"),r.Jc(90," Fees Type "),r.Tb(),r.Ub(91,"th"),r.Jc(92," Fees "),r.Tb(),r.Ub(93,"th"),r.Jc(94," Discount "),r.Tb(),r.Pb(95,"th"),r.Tb(),r.Tb(),r.Ub(96,"tbody"),r.Hc(97,at,14,7,"ng-container",38),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(98,"div",8),r.Ub(99,"div",39),r.Ub(100,"div"),r.Ub(101,"label",10),r.Jc(102," Paying Type :"),r.Tb(),r.Tb(),r.Ub(103,"mat-radio-group",40),r.cc("click",function(t){return e.showCardDialog(t.target.innerText)}),r.Hc(104,rt,2,2,"mat-radio-button",21),r.Tb(),r.Hc(105,lt,14,2,"div",41),r.Tb(),r.Ub(106,"div",42),r.Ub(107,"div",3),r.Ub(108,"div",43),r.Ub(109,"label",10),r.Jc(110,"Total Amount"),r.Tb(),r.Tb(),r.Ub(111,"div",44),r.Pb(112,"input",45),r.Tb(),r.Ub(113,"div",43),r.Ub(114,"label",10),r.Jc(115,"Discount"),r.Tb(),r.Tb(),r.Ub(116,"div",44),r.Pb(117,"input",45),r.Tb(),r.Ub(118,"div",43),r.Ub(119,"label",10),r.Jc(120,"Sub Total"),r.Tb(),r.Tb(),r.Ub(121,"div",44),r.Pb(122,"input",45),r.Tb(),r.Ub(123,"div",43),r.Ub(124,"label",10),r.Jc(125,"Paid Amount"),r.Tb(),r.Tb(),r.Ub(126,"div",44),r.Ub(127,"input",46),r.cc("keyup",function(){return e.changePayingAmount()}),r.Tb(),r.Tb(),r.Ub(128,"div",43),r.Ub(129,"label",10),r.Jc(130,"Due Amount"),r.Tb(),r.Tb(),r.Ub(131,"div",44),r.Pb(132,"input",45),r.Tb(),r.Ub(133,"div",43),r.Ub(134,"label",10),r.Jc(135,"Refund Amount"),r.Tb(),r.Tb(),r.Ub(136,"div",44),r.Pb(137,"input",45),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(138,"div",8),r.Ub(139,"div",47),r.Ub(140,"div",48),r.Ub(141,"button",49),r.cc("click",function(){return e.saveBill()}),r.Jc(142,"Save"),r.Tb(),r.Ub(143,"button",50),r.cc("click",function(){return e.view()}),r.Jc(144,"View"),r.Tb(),r.Ub(145,"button",51),r.cc("click",function(){return e.updateBillDetails()}),r.Jc(146,"Update"),r.Tb(),r.Ub(147,"button",52),r.cc("click",function(){return e.deleteBill()}),r.Jc(148,"Delete"),r.Tb(),r.Ub(149,"button",53),r.cc("click",function(){return e.PrintBill()}),r.Jc(150,"Print"),r.Tb(),r.Ub(151,"button",54),r.cc("click",function(){return e.resetPage()}),r.Jc(152,"Clear"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Hc(153,dt,31,2,"ng-template",null,55,r.Ic),r.Hc(155,pt,20,1,"ng-template",null,56,r.Ic),r.Tb()),2&t){const t=r.wc(74);r.oc("formGroup",e.formGroup),r.Cb(7),r.oc("ngIf",e.editMode),r.Cb(1),r.oc("ngIf",!e.editMode),r.Cb(6),r.oc("ngIf",!e.editMode),r.Cb(1),r.oc("ngIf",e.editMode),r.Cb(5),r.pc("value",e.formGroup.get("name").value),r.Cb(5),r.pc("value",e.formGroup.get("age").value),r.Cb(5),r.pc("value",e.formGroup.get("gender").value),r.Cb(6),r.pc("value",e.formGroup.get("contact").value),r.Cb(8),r.oc("ngForOf",e.consList),r.Cb(27),r.oc("matAutocomplete",t),r.Cb(4),r.oc("ngForOf",r.ic(76,24,e.filteredFeesTypes$)),r.Cb(22),r.oc("ngForOf",e.addedFees.controls),r.Cb(7),r.oc("ngForOf",e.payTypes),r.Cb(1),r.oc("ngIf","Others"===e.formGroup.get("payType").value),r.Cb(7),r.oc("value",e.formGroup.get("total").value),r.Cb(5),r.oc("value",e.formGroup.get("discount").value),r.Cb(5),r.oc("value",e.formGroup.get("subTotal").value),r.Cb(10),r.oc("value",e.formGroup.get("due").value),r.Cb(5),r.oc("value",e.formGroup.get("refund").value),r.Cb(4),r.oc("disabled",e.editMode),r.Cb(4),r.oc("disabled",!e.editMode),r.Cb(2),r.oc("disabled",!e.editMode),r.Cb(2),r.oc("disabled",!e.editMode)}},directives:[o.s,o.k,n.n,o.y,o.r,o.i,o.v,o.B,n.m,I.c,I.f,O.b,o.d,M.c,M.a,o.w,C,c.j,o.f,o.l,_,a.b,I.g,k.b],pipes:[n.b,n.g],styles:[".table[_ngcontent-%COMP%]{vertical-align:top}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:.1rem;padding-bottom:.1rem}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.tabPanel[_ngcontent-%COMP%]{max-height:150px}.green[_ngcontent-%COMP%]{color:#1a6724;text-shadow:0 0 1px #b72828;font-style:oblique}.btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem}.badge[_ngcontent-%COMP%]{text-align:left}.mat-radio-label-content[_ngcontent-%COMP%]{padding-right:3px}.mat-option[_ngcontent-%COMP%]{height:30px;line-height:30px}.mat-option[_ngcontent-%COMP%], .mat-option-text[_ngcontent-%COMP%]{font-size:13px}"]}),t})(),mt=(()=>{class t{constructor(t){this.http=t,this.cardTypes=[],this.payTypes=[],this.selectedDate="",this.currentUrl=D.a.normUrl+"cash-counter/ip-billing"}LoadFunctions(){setTimeout(()=>{$("#txtCardType").autocomplete({source:(t,e)=>e(this.cardTypes.filter(e=>e.toLowerCase().startsWith(t.term.toLowerCase()))),appendTo:$("#cardDialog")}),$("#txtOthers").autocomplete({source:(t,e)=>e(this.payTypes.filter(e=>e.toLowerCase().startsWith(t.term.toLowerCase())))})},0)}getAll(){return this.http.get(this.currentUrl)}getIPNos(t){return this.http.get(`${this.currentUrl}/ip-nos/${t}`)}getTreatmentDetails(t){return this.http.get(`${this.currentUrl}/treatments/${t}`)}saveBill(t,e){return this.http.post(this.currentUrl,{data:t,treatments:e})}getBillNos(t){return this.http.get(`${this.currentUrl}/bill-nos/${t}`)}getBillDetails(t){return this.http.get(`${this.currentUrl}/bill-details/${t}`)}updateBill(t,e){return this.http.patch(`${this.currentUrl}/${t.billNo}`,{data:t,treatments:e},{responseType:"text"})}deleteBill(t){return this.http.delete(`${this.currentUrl}/${t}`,{responseType:"text"})}GetInputs(){}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(F.b))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const gt=["cardTemplate"];function ft(t,e){if(1&t&&r.Pb(0,"option",47),2&t){const t=e.$implicit;r.oc("value",t)("text",t)}}function Tt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"select",44),r.cc("ngModelChange",function(e){return r.zc(t),r.gc().inputs.billYear=e})("change",function(){return r.zc(t),r.gc().getBillNos()}),r.Ub(1,"option",45),r.Jc(2,"Select"),r.Tb(),r.Hc(3,ft,1,2,"option",46),r.Tb()}if(2&t){const t=r.gc();r.oc("ngModel",t.inputs.billYear),r.Cb(3),r.oc("ngForOf",t.years)}}function vt(t,e){if(1&t&&r.Pb(0,"option",47),2&t){const t=e.$implicit;r.oc("value",t)("text",t)}}function yt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"select",44),r.cc("ngModelChange",function(e){return r.zc(t),r.gc().inputs.year=e})("change",function(){return r.zc(t),r.gc().getIPNos()}),r.Ub(1,"option",45),r.Jc(2,"Select"),r.Tb(),r.Hc(3,vt,1,2,"option",46),r.Tb()}if(2&t){const t=r.gc();r.oc("ngModel",t.inputs.year),r.Cb(3),r.oc("ngForOf",t.years)}}function Ut(t,e){if(1&t&&r.Pb(0,"option",47),2&t){const t=e.$implicit;r.oc("value",t.id)("text",t.billNo)}}function Ct(t,e){if(1&t){const t=r.Vb();r.Ub(0,"select",44),r.cc("ngModelChange",function(e){return r.zc(t),r.gc(2).inputs.billNo=e})("change",function(){return r.zc(t),r.gc(2).getBillDetails()}),r.Ub(1,"option",45),r.Jc(2,"Select"),r.Tb(),r.Hc(3,Ut,1,2,"option",46),r.Tb()}if(2&t){const t=r.gc(2);r.oc("ngModel",t.inputs.billNo),r.Cb(3),r.oc("ngForOf",t.billNos)}}function Pt(t,e){if(1&t&&(r.Ub(0,"div",5),r.Ub(1,"label",6),r.Jc(2,"Bill No"),r.Tb(),r.Hc(3,Ct,4,2,"select",7),r.Tb()),2&t){const t=r.gc();r.Cb(3),r.oc("ngIf",t.editMode)}}function xt(t,e){if(1&t&&r.Pb(0,"input",10),2&t){const t=r.gc();r.oc("value",t.inputs.tIP)}}function Nt(t,e){if(1&t&&r.Pb(0,"option",47),2&t){const t=e.$implicit;r.oc("value",t.id)("text",t.ipNo)}}function wt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"select",44),r.cc("ngModelChange",function(e){return r.zc(t),r.gc().inputs.ipNo=e})("change",function(){return r.zc(t),r.gc().getTreatmentDetails()}),r.Ub(1,"option",45),r.Jc(2,"Select"),r.Tb(),r.Hc(3,Nt,1,2,"option",46),r.Tb()}if(2&t){const t=r.gc();r.oc("ngModel",t.inputs.ipNo),r.Cb(3),r.oc("ngForOf",t.ipNos)}}function _t(t,e){if(1&t){const t=r.Vb();r.Ub(0,"tr"),r.Ub(1,"td"),r.Jc(2),r.Tb(),r.Ub(3,"td"),r.Jc(4),r.Tb(),r.Ub(5,"td"),r.Jc(6),r.Tb(),r.Ub(7,"td"),r.Jc(8),r.hc(9,"number"),r.Tb(),r.Ub(10,"td"),r.Jc(11),r.Tb(),r.Ub(12,"td"),r.Jc(13),r.hc(14,"number"),r.Tb(),r.Ub(15,"td"),r.Ub(16,"input",48),r.cc("ngModelChange",function(t){return e.$implicit.discount=t})("input",function(){return r.zc(t),r.gc().calculateTotal()}),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit;r.Cb(2),r.Kc(t.dept),r.Cb(2),r.Kc(t.category),r.Cb(2),r.Kc(t.service),r.Cb(2),r.Kc(r.jc(9,7,t.cost,"1.2-2")),r.Cb(3),r.Kc(t.qty),r.Cb(2),r.Kc(r.jc(14,10,t.total,"1.2-2")),r.Cb(3),r.oc("ngModel",t.discount)}}function Jt(t,e){if(1&t&&(r.Ub(0,"mat-radio-button",49),r.Jc(1),r.Tb()),2&t){const t=e.$implicit;r.oc("value",t),r.Cb(1),r.Kc(t)}}function kt(t,e){if(1&t&&(r.Ub(0,"mat-option",49),r.Jc(1),r.Tb()),2&t){const t=e.$implicit;r.oc("value",t),r.Cb(1),r.Lc(" ",t," ")}}function Mt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"mat-form-field"),r.Ub(1,"mat-label"),r.Jc(2,"Other Payment"),r.Tb(),r.Ub(3,"input",50),r.cc("ngModelChange",function(e){return r.zc(t),r.gc().inputs.otherType=e}),r.Tb(),r.Ub(4,"mat-autocomplete",null,51),r.Hc(6,kt,2,2,"mat-option",29),r.Tb(),r.Tb()}if(2&t){const t=r.wc(5),e=r.gc();r.Cb(3),r.oc("matAutocomplete",t)("ngModel",e.inputs.otherType),r.Cb(3),r.oc("ngForOf",e.paymentModes)}}function It(t,e){if(1&t&&(r.Ub(0,"mat-option",49),r.Jc(1),r.Tb()),2&t){const t=e.$implicit;r.oc("value",t),r.Cb(1),r.Kc(t)}}function Ot(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",52),r.Ub(1,"h4",53),r.Jc(2,"Card Details"),r.Tb(),r.Tb(),r.Ub(3,"div",1),r.Ub(4,"mat-form-field"),r.Ub(5,"mat-label"),r.Jc(6,"Card No"),r.Tb(),r.Ub(7,"input",54),r.cc("ngModelChange",function(e){return r.zc(t),r.gc().inputs.cardNo=e}),r.Tb(),r.Tb(),r.Tb(),r.Ub(8,"div",1),r.Ub(9,"mat-form-field"),r.Ub(10,"mat-label"),r.Jc(11,"Card Type"),r.Tb(),r.Ub(12,"input",55),r.cc("ngModelChange",function(e){return r.zc(t),r.gc().inputs.cardType=e}),r.Tb(),r.Ub(13,"mat-autocomplete",null,56),r.Hc(15,It,2,2,"mat-option",29),r.Tb(),r.Tb(),r.Tb(),r.Ub(16,"div",1),r.Ub(17,"mat-form-field"),r.Ub(18,"mat-label"),r.Jc(19,"Card Expiry"),r.Tb(),r.Ub(20,"input",57),r.cc("ngModelChange",function(e){return r.zc(t),r.gc().inputs.cardExpiry=e}),r.Tb(),r.Tb(),r.Tb(),r.Ub(21,"div",58),r.Ub(22,"div",2),r.Ub(23,"button",59),r.Jc(24,"Close"),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.wc(14),e=r.gc();r.Cb(7),r.oc("ngModel",e.inputs.cardNo),r.Cb(5),r.oc("ngModel",e.inputs.cardType)("matAutocomplete",t),r.Cb(3),r.oc("ngForOf",e.cardTypes),r.Cb(5),r.oc("ngModel",e.inputs.cardExpiry)}}let Gt=(()=>{class t{constructor(t,e,i,o,n){this.service=t,this.toastr=e,this.common=i,this.dialog=o,this.loaderService=n,this.billType="hospital"}ngOnInit(){this.common.mainData.next({header:"IP Billing",treeView:"liCashCounter",subTreeView:"",menu:"liIPBill"}),this.service.LoadFunctions(),this.initProperties(),this.service.getAll().toPromise().then(t=>{this.years.push(...t.years),t.years.length>0&&(this.inputs.year=t.years[0]),this.ipNos.push(...t.ipNos),this.paymentModes.push(...t.payTypes),this.cardTypes.push(...t.cardTypes)})}getIPNos(){""!==this.inputs.year?this.service.getIPNos(this.inputs.year).toPromise().then(t=>this.ipNos.splice(0,this.ipNos.length,...t)):this.ipNos.splice(0,this.ipNos.length)}getTreatmentDetails(){""!==this.inputs.year&&""!==this.inputs.ipNo&&this.service.getTreatmentDetails(this.inputs.ipNo).toPromise().then(t=>{for(let e in t.data)this.inputs[e]=t.data[e];this.treatments.splice(0,this.treatments.length,...t.treatments),this.calculateTotal()})}saveBill(){""===this.inputs.year?this.toastr.error("Select the Year to Save"):""===this.inputs.ipNo?this.toastr.error("Select the IP No to Save"):""===this.getPayType()?this.toastr.error("Enter the Pay Type to Save"):this.inputs.subTotal<0?this.toastr.error("Advance / Discount is Greater than Total Amount!!!"):(this.loaderService.start(),this.service.saveBill(this.inputs,this.treatments).toPromise().then(t=>{this.ClearPage(),this.common.triggerSwal(t.message,"Print Bill","Success","success","#2fb926").then(e=>{e.isConfirmed&&this.common.printPage(`ip-bill/${t.billId}`)})}).finally(()=>this.loaderService.stop()))}view(){this.editMode=!0,this.inputs.billNo="",this.years.length>0&&(this.inputs.billYear=this.years[0],this.getBillNos())}getBillNos(){""!==this.inputs.billYear?this.service.getBillNos(this.inputs.billYear).toPromise().then(t=>this.billNos.splice(0,this.billNos.length,...t)):this.billNos.splice(0,this.billNos.length)}getBillDetails(){""!==this.inputs.billYear&&""!==this.inputs.billNo&&this.service.getBillDetails(this.inputs.billNo).toPromise().then(t=>{for(let e in t.data)this.inputs[e]=t.data[e];this.treatments=t.treatments})}updateBill(){""===this.inputs.billYear?this.toastr.error("Select the Bill Year"):""===this.inputs.billNo?this.toastr.error("Select the Bill No"):""===this.getPayType()?this.toastr.error("Enter the Pay Type to Save"):this.inputs.subTotal<0?this.toastr.error("Advance / Discount is Greater than Total Amount!!!"):(this.loaderService.start(),this.service.updateBill(this.inputs,this.treatments).toPromise().then(t=>this.toastr.success(t)).finally(()=>this.loaderService.stop()))}deleteBill(){""===this.inputs.billYear?this.toastr.error("Select the Bill Year"):""===this.inputs.billNo?this.toastr.error("Select the Bill No"):this.common.triggerSwal("Do you want to Delete this Bill?").then(t=>{t.isConfirmed&&(this.loaderService.start(),this.service.deleteBill(this.inputs.billNo).toPromise().then(t=>{this.toastr.success(t),this.ClearPage()}).finally(()=>this.loaderService.stop()))})}PrintBill(){""===this.inputs.billYear?this.toastr.error("Select the Bill Year"):""===this.inputs.billNo?this.toastr.error("Select the Bill No"):this.common.printPage(`ip-bill/${this.inputs.billNo}/${this.billType}`)}ClearPage(){this.editMode=!1,this.service.selectedDate="";for(let t in this.inputs)this.inputs[t]="number"==typeof this.inputs[t]?0:"";this.treatments=[],this.inputs.payType="Cash",this.years.length>0&&(this.inputs.year=this.years[0],this.getIPNos())}showCardDialog(t){"Card"===t&&this.dialog.open(this.cardTemplate)}getPayType(){return"Others"!==this.inputs.payType?this.inputs.payType:this.inputs.otherType}calculateTotal(){let t=0,e=0;this.treatments.forEach(i=>{t+=i.total,e+=i.discount}),this.inputs.total=t,this.inputs.discount=e,this.inputs.subTotal=this.inputs.paying=t-(e+this.inputs.advance),this.inputs.due=0,this.inputs.refund=0}ChangePayingAmt(){var t,e;this.inputs.due=(null!==(t=this.inputs.subTotal)&&void 0!==t?t:0)-(null!==(e=this.inputs.paying)&&void 0!==e?e:0),0===this.inputs.due||this.inputs.due>0?this.inputs.refund=0:(this.inputs.refund=Math.abs(this.inputs.due),this.inputs.due=0)}initProperties(){this.years=[],this.ipNos=[],this.billNos=[],this.treatments=[],this.inputs={year:"",ipNo:"",billYear:"",billNo:"",tIP:0,ptId:0,name:"",age:"",gender:"",consultant:"",total:0,advance:0,discount:0,subTotal:0,paying:0,due:0,refund:0,payType:"Cash",otherType:"",cardNo:"",cardType:"",cardExpiry:""},this.editMode=!1,this.payTypes=["Cash","Card","Others"],this.paymentModes=[],this.cardTypes=[]}ngOnDestroy(){$("#txtCardType").hasClass("ui-autocomplete-input")&&$("#txtCardType").autocomplete("destroy"),$("#txtOthers").hasClass("ui-autocomplete-input")&&$("#txtOthers").autocomplete("destroy"),$("#cardDialog").parents("ui-dialog").length>0&&$("#cardDialog").dialog("destroy")}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(mt),r.Ob(z.b),r.Ob(H.a),r.Ob(k.a),r.Ob(Y.b))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-ip-billing"]],viewQuery:function(t,e){if(1&t&&r.Nc(gt,1),2&t){let t;r.vc(t=r.dc())&&(e.cardTemplate=t.first)}},features:[r.Bb([mt])],decls:140,vars:26,consts:[[1,"background-All"],[1,"row"],[1,"col"],[2,"font-size","18px","font-weight","bold"],[2,"margin-top","0px"],[1,"col-lg-2","col-md-2","col-sm-3","col-6"],[1,"badge"],["class","form-control form-control-sm",3,"ngModel","ngModelChange","change",4,"ngIf"],["class","col-lg-2 col-md-2 col-sm-3 col-6",4,"ngIf"],["class","form-control form-control-sm","readonly","",3,"value",4,"ngIf"],["readonly","",1,"form-control","form-control-sm",3,"value"],[1,"row","mt-lg-1"],[1,"col-lg-3","col-md-4","col-sm-6","col-8"],["readonly","",1,"form-control","form-control-sm","input",3,"value"],[1,"col-lg-2","col-md-2","col-sm-4","col-4"],[1,"col-lg-2","col-md-2","col-sm-6","col-4"],[1,"mt-2","background-All"],[1,"col-lg-2"],[1,"col-lg-3","col-md-3","col-sm-4","col-8","mt-lg-0","mt-1"],[1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["value","hospital"],["value","clinic"],[1,"col-lg-8","col-12"],[1,"table-responsive","border",2,"min-height","150px","max-height","150px"],["id","tblTreatment",1,"table","table-bordered","table-hover","table-sm","table-striped","table-dark"],[1,"text-info"],[4,"ngFor","ngForOf"],[1,"col-lg-4","border","pb-2","mb-2"],[3,"ngModel","ngModelChange","click"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"col-lg-2","col-md-3","col-sm-3","col-4"],[1,"col-lg-2","col-md-3","col-sm-3","col-8"],[1,"form-control","form-control-sm",3,"ngModel","ngModelChange","input"],[1,"row","mt-2"],[1,"col-xs-12","col-lg-8","col-12"],[1,"text-center"],[1,"btn","btn-success","btn-sm",3,"disabled","click"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"btn","btn-info","btn-sm",3,"disabled","click"],[1,"btn","btn-danger","btn-sm",3,"disabled","click"],[1,"btn","btn-warning","btn-sm",3,"disabled","click"],[1,"btn","btn-primary","btn-sm",3,"click"],["cardTemplate",""],[1,"form-control","form-control-sm",3,"ngModel","ngModelChange","change"],["value",""],[3,"value","text",4,"ngFor","ngForOf"],[3,"value","text"],["type","number","inputmode","numeric",3,"ngModel","ngModelChange","input"],[3,"value"],["matInput","",3,"matAutocomplete","ngModel","ngModelChange"],["paymentAutoComplete","matAutocomplete"],[1,"modal-title","text-center",2,"width","100%"],[1,"green","font-weight-bold"],["matInput","",3,"ngModel","ngModelChange"],["matInput","",3,"ngModel","matAutocomplete","ngModelChange"],["cardType","matAutocomplete"],["matInput","","type","date","autocomplete","off",3,"ngModel","ngModelChange"],[1,"row","text-center","mt-2"],["mat-dialog-close","",1,"btn","btn-primary"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"div",2),r.Ub(3,"label",3),r.Jc(4,"\xa0Patient Details"),r.Tb(),r.Tb(),r.Tb(),r.Pb(5,"hr",4),r.Ub(6,"div",1),r.Ub(7,"div",5),r.Ub(8,"label",6),r.Jc(9,"Bill Year"),r.Tb(),r.Hc(10,Tt,4,2,"select",7),r.Hc(11,yt,4,2,"select",7),r.Tb(),r.Hc(12,Pt,4,1,"div",8),r.Ub(13,"div",5),r.Ub(14,"label",6),r.Jc(15,"IP No"),r.Tb(),r.Hc(16,xt,1,1,"input",9),r.Hc(17,wt,4,2,"select",7),r.Tb(),r.Ub(18,"div",5),r.Ub(19,"label",6),r.Jc(20,"Patient ID / UHID"),r.Tb(),r.Pb(21,"input",10),r.Tb(),r.Tb(),r.Ub(22,"div",11),r.Ub(23,"div",12),r.Ub(24,"label",6),r.Jc(25,"Patient Name"),r.Tb(),r.Pb(26,"input",13),r.Tb(),r.Ub(27,"div",14),r.Ub(28,"label",6),r.Jc(29,"Age"),r.Tb(),r.Pb(30,"input",13),r.Tb(),r.Ub(31,"div",15),r.Ub(32,"label",6),r.Jc(33,"Gender"),r.Tb(),r.Pb(34,"input",13),r.Tb(),r.Ub(35,"div",12),r.Ub(36,"label",6),r.Jc(37,"Consultant"),r.Tb(),r.Pb(38,"input",13),r.Tb(),r.Tb(),r.Pb(39,"br"),r.Tb(),r.Ub(40,"div",16),r.Ub(41,"div",1),r.Ub(42,"div",2),r.Ub(43,"label",3),r.Jc(44,"\xa0Bill Details"),r.Tb(),r.Tb(),r.Tb(),r.Pb(45,"hr"),r.Ub(46,"div",1),r.Ub(47,"div",17),r.Ub(48,"label",3),r.Jc(49,"\xa0Select Bill type "),r.Tb(),r.Tb(),r.Ub(50,"div",18),r.Ub(51,"select",19),r.cc("ngModelChange",function(t){return e.billType=t}),r.Ub(52,"option",20),r.Jc(53,"Hospital"),r.Tb(),r.Ub(54,"option",21),r.Jc(55,"Clinic"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Pb(56,"hr",4),r.Ub(57,"div",1),r.Ub(58,"div",22),r.Ub(59,"div",23),r.Ub(60,"table",24),r.Ub(61,"thead"),r.Ub(62,"tr",25),r.Ub(63,"th"),r.Jc(64,"Department"),r.Tb(),r.Ub(65,"th"),r.Jc(66,"Category"),r.Tb(),r.Ub(67,"th"),r.Jc(68,"Service"),r.Tb(),r.Ub(69,"th"),r.Jc(70,"Cost"),r.Tb(),r.Ub(71,"th"),r.Jc(72,"Qty"),r.Tb(),r.Ub(73,"th"),r.Jc(74,"Total"),r.Tb(),r.Ub(75,"th"),r.Jc(76,"Discount"),r.Tb(),r.Tb(),r.Tb(),r.Ub(77,"tbody"),r.Hc(78,_t,17,13,"tr",26),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(79,"div",27),r.Ub(80,"div"),r.Ub(81,"label",6),r.Jc(82,"Paying Type :"),r.Tb(),r.Tb(),r.Ub(83,"mat-radio-group",28),r.cc("ngModelChange",function(t){return e.inputs.payType=t})("click",function(t){return e.showCardDialog(t.target.innerText)}),r.Hc(84,Jt,2,2,"mat-radio-button",29),r.Tb(),r.Ub(85,"div"),r.Hc(86,Mt,7,3,"mat-form-field",30),r.Tb(),r.Tb(),r.Tb(),r.Ub(87,"div",1),r.Ub(88,"div",31),r.Ub(89,"label",6),r.Jc(90,"Total Amount"),r.Tb(),r.Tb(),r.Ub(91,"div",32),r.Pb(92,"input",10),r.Tb(),r.Ub(93,"div",31),r.Ub(94,"label",6),r.Jc(95,"Advance Paid"),r.Tb(),r.Tb(),r.Ub(96,"div",32),r.Pb(97,"input",10),r.Tb(),r.Ub(98,"div",31),r.Ub(99,"label",6),r.Jc(100,"Discount"),r.Tb(),r.Tb(),r.Ub(101,"div",32),r.Pb(102,"input",10),r.Tb(),r.Ub(103,"div",31),r.Ub(104,"label",6),r.Jc(105,"Sub Total"),r.Tb(),r.Tb(),r.Ub(106,"div",32),r.Pb(107,"input",10),r.Tb(),r.Ub(108,"div",31),r.Ub(109,"label",6),r.Jc(110,"Paying Amount"),r.Tb(),r.Tb(),r.Ub(111,"div",32),r.Ub(112,"input",33),r.cc("ngModelChange",function(t){return e.inputs.paying=t})("input",function(){return e.ChangePayingAmt()}),r.Tb(),r.Tb(),r.Ub(113,"div",31),r.Ub(114,"label",6),r.Jc(115,"Due Amount"),r.Tb(),r.Tb(),r.Ub(116,"div",32),r.Pb(117,"input",10),r.Tb(),r.Ub(118,"div",31),r.Ub(119,"label",6),r.Jc(120,"Refund Amount"),r.Tb(),r.Tb(),r.Ub(121,"div",32),r.Pb(122,"input",10),r.Tb(),r.Tb(),r.Ub(123,"div",34),r.Ub(124,"div",35),r.Ub(125,"div",36),r.Ub(126,"button",37),r.cc("click",function(){return e.saveBill()}),r.Jc(127,"Save"),r.Tb(),r.Ub(128,"button",38),r.cc("click",function(){return e.view()}),r.Jc(129,"View"),r.Tb(),r.Ub(130,"button",39),r.cc("click",function(){return e.updateBill()}),r.Jc(131,"Update"),r.Tb(),r.Ub(132,"button",40),r.cc("click",function(){return e.deleteBill()}),r.Jc(133,"Delete"),r.Tb(),r.Ub(134,"button",41),r.cc("click",function(){return e.PrintBill()}),r.Jc(135,"Print"),r.Tb(),r.Ub(136,"button",42),r.cc("click",function(){return e.ClearPage()}),r.Jc(137,"Clear"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Hc(138,Ot,25,5,"ng-template",null,43,r.Ic)),2&t&&(r.Cb(10),r.oc("ngIf",e.editMode),r.Cb(1),r.oc("ngIf",!e.editMode),r.Cb(1),r.oc("ngIf",e.editMode),r.Cb(4),r.oc("ngIf",e.editMode),r.Cb(1),r.oc("ngIf",!e.editMode),r.Cb(4),r.oc("value",e.inputs.ptId),r.Cb(5),r.oc("value",e.inputs.name),r.Cb(4),r.oc("value",e.inputs.age),r.Cb(4),r.oc("value",e.inputs.gender),r.Cb(4),r.oc("value",e.inputs.consultant),r.Cb(13),r.oc("ngModel",e.billType),r.Cb(27),r.oc("ngForOf",e.treatments),r.Cb(5),r.oc("ngModel",e.inputs.payType),r.Cb(1),r.oc("ngForOf",e.payTypes),r.Cb(2),r.oc("ngIf","Others"===e.inputs.payType),r.Cb(6),r.oc("value",e.inputs.total),r.Cb(5),r.oc("value",e.inputs.advance),r.Cb(5),r.oc("value",e.inputs.discount),r.Cb(5),r.oc("value",e.inputs.subTotal),r.Cb(5),r.oc("ngModel",e.inputs.paying),r.Cb(5),r.oc("value",e.inputs.due),r.Cb(5),r.oc("value",e.inputs.refund),r.Cb(4),r.oc("disabled",e.editMode),r.Cb(4),r.oc("disabled",!e.editMode),r.Cb(2),r.oc("disabled",!e.editMode),r.Cb(2),r.oc("disabled",!e.editMode))},directives:[n.n,o.y,o.r,o.u,o.v,o.B,n.m,C,o.d,o.w,_,I.c,I.f,O.b,M.c,M.a,c.j,k.b],pipes:[n.g],styles:[".table[_ngcontent-%COMP%]{vertical-align:top}.table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{text-align:left}.table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:100px}.tabPanel[_ngcontent-%COMP%]{min-height:200px;max-height:200px}.green[_ngcontent-%COMP%]{color:#1a6724;text-shadow:0 0 1px #b72828;font-style:oblique}.btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem}"]}),t})(),Dt=(()=>{class t{constructor(t,e){this.http=t,this.encoder=e,this.currentUrl=D.a.normUrl+"cash-counter/ip-advance"}getStart(){return this.http.get(this.currentUrl)}getIPNos(t){return this.http.get(`${this.currentUrl}/ip-nos/${t}`)}getPatientDetails(t){return this.http.get(`${this.currentUrl}/${t}`)}saveAdvance(t){return this.http.post(this.currentUrl,t)}updateAdvance(t){return this.http.patch(`${this.currentUrl}/${t.advanceId}`,t)}deleteAdvance(t){return this.http.delete(`${this.currentUrl}/${t}`,{responseType:"text"})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(F.b),r.Yb(B.a))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const Ft=["cardTemplate"];function Bt(t,e){if(1&t&&r.Pb(0,"option",28),2&t){const t=e.$implicit;r.oc("value",t)("text",t)}}function $t(t,e){if(1&t&&r.Pb(0,"option",28),2&t){const t=e.$implicit;r.oc("value",t.id)("text",t.ipNo)}}function At(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",29),r.cc("click",function(){return r.zc(t),r.gc().saveAdvance()}),r.Jc(1),r.Tb()}if(2&t){const t=r.gc();r.oc("disabled",t.isSaving),r.Cb(1),r.Kc(t.isSaving?"Saving...":"Save")}}function St(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",29),r.cc("click",function(){return r.zc(t),r.gc().updateAdvance()}),r.Jc(1),r.Tb()}if(2&t){const t=r.gc();r.oc("disabled",t.isUpdating),r.Cb(1),r.Kc(t.isUpdating?"Updating...":"Update")}}function Lt(t,e){if(1&t&&(r.Ub(0,"mat-radio-button",30),r.Jc(1),r.Tb()),2&t){const t=e.$implicit;r.oc("value",t),r.Cb(1),r.Lc("",t," ")}}function Vt(t,e){if(1&t&&(r.Ub(0,"mat-option",30),r.Jc(1),r.Tb()),2&t){const t=e.$implicit;r.oc("value",t),r.Cb(1),r.Kc(t)}}function Et(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",31),r.Ub(1,"mat-form-field"),r.Ub(2,"mat-label"),r.Jc(3,"Other Payment"),r.Tb(),r.Ub(4,"input",32),r.cc("ngModelChange",function(e){return r.zc(t),r.gc().inputs.otherPayType=e}),r.Tb(),r.Ub(5,"mat-autocomplete",null,33),r.Hc(7,Vt,2,2,"mat-option",19),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.wc(6),e=r.gc();r.Cb(4),r.oc("matAutocomplete",t)("ngModel",e.inputs.otherPayType),r.Cb(3),r.oc("ngForOf",e.payTypes)}}function Rt(t,e){if(1&t){const t=r.Vb();r.Ub(0,"tr"),r.Pb(1,"td",34),r.Pb(2,"td",34),r.Pb(3,"td",34),r.hc(4,"date"),r.Ub(5,"td"),r.Ub(6,"button",35),r.cc("click",function(){r.zc(t);const i=e.index;return r.gc().editAdvance(i)}),r.Ub(7,"i",36),r.Jc(8,"edit"),r.Tb(),r.Tb(),r.Tb(),r.Ub(9,"td"),r.Ub(10,"button",37),r.cc("click",function(){r.zc(t);const i=e.$implicit;return r.gc().printAdvance(i.id)}),r.Ub(11,"i",36),r.Jc(12,"print"),r.Tb(),r.Tb(),r.Tb(),r.Ub(13,"td"),r.Ub(14,"button",38),r.cc("click",function(){r.zc(t);const i=e.$implicit;return r.gc().deleteAdvance(i.id)}),r.Ub(15,"i",36),r.Jc(16,"delete"),r.Tb(),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit;r.Cb(1),r.oc("textContent",t.advNo),r.Cb(1),r.oc("textContent",t.amount),r.Cb(1),r.oc("textContent",r.ic(4,3,t.date))}}function zt(t,e){if(1&t&&(r.Ub(0,"mat-option",30),r.Jc(1),r.Tb()),2&t){const t=e.$implicit;r.oc("value",t),r.Cb(1),r.Kc(t)}}function Ht(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",39),r.Ub(1,"h4",40),r.Jc(2," Card Details"),r.Tb(),r.Tb(),r.Ub(3,"div",2),r.Ub(4,"mat-form-field"),r.Ub(5,"mat-label"),r.Jc(6,"Card No"),r.Tb(),r.Ub(7,"input",41),r.cc("ngModelChange",function(e){return r.zc(t),r.gc().inputs.cardNo=e}),r.Tb(),r.Tb(),r.Tb(),r.Ub(8,"div",2),r.Ub(9,"mat-form-field"),r.Ub(10,"mat-label"),r.Jc(11,"Card Type"),r.Tb(),r.Ub(12,"input",32),r.cc("ngModelChange",function(e){return r.zc(t),r.gc().inputs.cardType=e}),r.Tb(),r.Ub(13,"mat-autocomplete",null,33),r.Hc(15,zt,2,2,"mat-option",19),r.Tb(),r.Tb(),r.Tb(),r.Ub(16,"div",2),r.Ub(17,"mat-form-field"),r.Ub(18,"mat-label"),r.Jc(19,"Card Expiry"),r.Tb(),r.Ub(20,"input",42),r.cc("ngModelChange",function(e){return r.zc(t),r.gc().inputs.cardExpiry=e}),r.Tb(),r.Tb(),r.Tb(),r.Ub(21,"div",43),r.Ub(22,"div",3),r.Ub(23,"button",44),r.Jc(24,"Close"),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.wc(14),e=r.gc();r.Cb(7),r.oc("ngModel",e.inputs.cardNo),r.Cb(5),r.oc("matAutocomplete",t)("ngModel",e.inputs.cardType),r.Cb(3),r.oc("ngForOf",e.cardTypes),r.Cb(5),r.oc("ngModel",e.inputs.cardExpiry)}}const Yt=[{path:"op-billing",component:ht,data:{page:"OP Billing"}},{path:"ip-advance",component:(()=>{class t{constructor(t,e,i,o){this.common=t,this.service=e,this.toatsr=i,this.dialog=o}ngOnInit(){this.common.mainData.next({header:"IP Advance",treeView:"liCashCounter",subTreeView:"",menu:"liIPAdvance"}),this.initProperties(),this.service.getStart().toPromise().then(t=>{this.years.push(...t.years),this.ipNos.push(...t.ipNos),this.cardTypes.push(...t.cardTypes),this.payTypes.push(...t.payTypes),this.years.length>0&&(this.inputs.year=t.years[0])})}getIPNos(){this.inputs.ipNo="",""!==this.inputs.year?this.service.getIPNos(this.inputs.year).toPromise().then(t=>this.ipNos=t):this.ipNos=[]}getPatientDetails(){""!==this.inputs.year&&""!==this.inputs.ipNo?this.service.getPatientDetails(this.inputs.ipNo).toPromise().then(t=>{this.advances.splice(0,this.advances.length,...t.advances);for(let e in t.data)this.inputs[e]=t.data[e]}):this.advances.length=0}saveAdvance(){var t;""===this.inputs.year?this.toatsr.error("Select the Year!!!"):""===this.inputs.ipNo?this.toatsr.error("Select the IP No"):0===(null!==(t=this.inputs.advance)&&void 0!==t?t:0)?this.toatsr.error("Enter valid Advance Amount"):(this.isSaving=!0,this.service.saveAdvance(this.inputs).toPromise().then(t=>{t.status?(this.clearPage(),this.common.triggerSwal(t.message,"Print Bill","Success").then(e=>{e.isConfirmed&&this.common.printPage(`advance/${t.id}`)})):this.toatsr.warning(t.message)}).finally(()=>this.isSaving=!1))}editAdvance(t){this.editMode=!0;const e=this.advances[t];this.inputs.advanceId=e.id,this.inputs.advance=e.amount,this.inputs.payType=e.payType,this.inputs.otherPayType=e.otherPayType,this.inputs.cardNo=e.cardNo,this.inputs.cardType=e.cardType,this.inputs.cardExpiry=e.cardExpiry}updateAdvance(){var t;""===this.inputs.year?this.toatsr.error("Select the Year!!!"):""===this.inputs.ipNo?this.toatsr.error("Select the IP No"):0===(null!==(t=this.inputs.advance)&&void 0!==t?t:0)?this.toatsr.error("Enter valid Advance Amount"):(this.isUpdating=!0,this.service.updateAdvance(this.inputs).toPromise().then(t=>{t.status?(this.toatsr.success(t.message),this.clearPage()):this.toatsr.warning(t.message)}).finally(()=>this.isUpdating=!1))}deleteAdvance(t){this.common.triggerSwal("Do you want to Delete the Advance?").then(e=>{e.isConfirmed&&this.service.deleteAdvance(t).toPromise().then(t=>{this.toatsr.success(t),this.clearPage()})})}printAdvance(t){this.common.printPage(`advance/${t}`)}clearPage(){this.editMode=this.isSaving=this.isUpdating=!1,this.advances.length=0;for(let t in this.inputs)this.inputs[t]="";this.inputs.payType="Cash",this.inputs.advance=0,this.years.length>0&&(this.inputs.year=this.years[0],this.getIPNos())}showCardDialog(t){"Card"===t&&this.dialog.open(this.cardTemplate)}initProperties(){this.editMode=this.isSaving=!1,this.years=[],this.ipNos=[],this.advances=[],this.cardTypes=[],this.payTypes=[],this.paymentMethods=["Cash","Card","Others"],this.inputs={year:"",ipNo:"",ptId:"",name:"",age:"",gender:"",advance:0,advanceId:null,payType:"Cash",otherPayType:"",cardNo:"",cardType:"",cardExpiry:""}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(H.a),r.Ob(Dt),r.Ob(z.b),r.Ob(k.a))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-ipadvance"]],viewQuery:function(t,e){if(1&t&&r.Nc(Ft,1),2&t){let t;r.vc(t=r.dc())&&(e.cardTemplate=t.first)}},features:[r.Bb([Dt])],decls:88,vars:15,consts:[[1,"container"],[1,"pl-2","pr-2","pb-2","background-All"],[1,"row"],[1,"col"],[1,"ml-lg-2",2,"font-size","18px","font-weight","bold"],[1,"col-lg-3"],[1,"badge"],[1,"form-control","form-control-sm",3,"ngModel","ngModelChange","change"],["value",""],[3,"value","text",4,"ngFor","ngForOf"],[1,"col-lg-2"],["readonly","",1,"form-control","form-control-sm",3,"value"],[1,"col-12","col-md-4"],["type","number","inputmode","numeric",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center","mt-2"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click"],[1,"col-lg-5","col-md-5","col-sm-5","col-12"],[3,"ngModel","ngModelChange","click"],[3,"value",4,"ngFor","ngForOf"],["class","input-group",4,"ngIf"],[1,"row","mt-2"],[1,"col-md-8"],[1,"wells"],[1,"table-responsive",2,"min-height","150px","max-height","150px"],["id","tblAdvanceList",1,"table","table-bordered"],[4,"ngFor","ngForOf"],["cardTemplate",""],[3,"value","text"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"],[1,"input-group"],["matInput","",3,"matAutocomplete","ngModel","ngModelChange"],["otherType","matAutocomplete"],[3,"textContent"],["mat-mini-fab","","color","primary",3,"click"],[1,"material-icons"],["mat-mini-fab","",3,"click"],["mat-mini-fab","","color","warn",3,"click"],[1,"modal-title","text-center",2,"width","100%"],[1,"green","font-weight-bold"],["matInput","","autocomplete","off",3,"ngModel","ngModelChange"],["type","date","matInput","","autocomplete","off",3,"ngModel","ngModelChange"],[1,"row","text-center"],["mat-dialog-close","",1,"btn","btn-primary"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"div",2),r.Ub(3,"div",3),r.Ub(4,"label",4),r.Jc(5,"\xa0Patient Details"),r.Tb(),r.Tb(),r.Tb(),r.Pb(6,"hr"),r.Ub(7,"div",2),r.Ub(8,"div",5),r.Ub(9,"label",6),r.Jc(10,"Bill Year"),r.Tb(),r.Ub(11,"select",7),r.cc("ngModelChange",function(t){return e.inputs.year=t})("change",function(){return e.getIPNos()}),r.Ub(12,"option",8),r.Jc(13,"Select"),r.Tb(),r.Hc(14,Bt,1,2,"option",9),r.Tb(),r.Tb(),r.Ub(15,"div",5),r.Ub(16,"label",6),r.Jc(17,"IP No"),r.Tb(),r.Ub(18,"select",7),r.cc("ngModelChange",function(t){return e.inputs.ipNo=t})("change",function(){return e.getPatientDetails()}),r.Ub(19,"option",8),r.Jc(20,"Select"),r.Tb(),r.Hc(21,$t,1,2,"option",9),r.Tb(),r.Tb(),r.Tb(),r.Pb(22,"br"),r.Ub(23,"div",2),r.Ub(24,"div",10),r.Ub(25,"label",6),r.Jc(26,"Patient ID"),r.Tb(),r.Pb(27,"input",11),r.Tb(),r.Ub(28,"div",5),r.Ub(29,"label",6),r.Jc(30,"Patient Name"),r.Tb(),r.Pb(31,"input",11),r.Tb(),r.Ub(32,"div",10),r.Ub(33,"label",6),r.Jc(34,"Age"),r.Tb(),r.Pb(35,"input",11),r.Tb(),r.Ub(36,"div",10),r.Ub(37,"label",6),r.Jc(38,"Gender"),r.Tb(),r.Pb(39,"input",11),r.Tb(),r.Tb(),r.Tb(),r.Pb(40,"br"),r.Ub(41,"div",1),r.Ub(42,"div",2),r.Ub(43,"div",3),r.Ub(44,"label",4),r.Jc(45,"\xa0Advance Details"),r.Tb(),r.Tb(),r.Tb(),r.Ub(46,"div",2),r.Ub(47,"div",12),r.Ub(48,"label"),r.Jc(49,"Advance Amount"),r.Tb(),r.Ub(50,"input",13),r.cc("ngModelChange",function(t){return e.inputs.advance=t}),r.Tb(),r.Ub(51,"div",14),r.Hc(52,At,2,2,"button",15),r.Jc(53,"\xa0 "),r.Hc(54,St,2,2,"button",15),r.Ub(55,"button",16),r.cc("click",function(){return e.clearPage()}),r.Jc(56,"Reset"),r.Tb(),r.Tb(),r.Tb(),r.Ub(57,"div",17),r.Ub(58,"div"),r.Ub(59,"label",6),r.Jc(60," Paying Type :"),r.Tb(),r.Tb(),r.Ub(61,"mat-radio-group",18),r.cc("ngModelChange",function(t){return e.inputs.payType=t})("click",function(t){return e.showCardDialog(t.target.innerText)}),r.Hc(62,Lt,2,2,"mat-radio-button",19),r.Tb(),r.Hc(63,Et,8,3,"div",20),r.Tb(),r.Tb(),r.Ub(64,"div",21),r.Ub(65,"div",22),r.Ub(66,"div",23),r.Ub(67,"div",24),r.Ub(68,"table",25),r.Ub(69,"thead"),r.Ub(70,"tr"),r.Ub(71,"th"),r.Jc(72,"Rec No"),r.Tb(),r.Ub(73,"th"),r.Jc(74,"Amount"),r.Tb(),r.Ub(75,"th"),r.Jc(76,"Date"),r.Tb(),r.Ub(77,"th"),r.Jc(78,"Edit"),r.Tb(),r.Ub(79,"th"),r.Jc(80,"Print"),r.Tb(),r.Ub(81,"th"),r.Jc(82,"Delete"),r.Tb(),r.Tb(),r.Tb(),r.Ub(83,"tbody"),r.Hc(84,Rt,17,5,"tr",26),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Pb(85,"br"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Hc(86,Ht,25,5,"ng-template",null,27,r.Ic)),2&t&&(r.Cb(11),r.oc("ngModel",e.inputs.year),r.Cb(3),r.oc("ngForOf",e.years),r.Cb(4),r.oc("ngModel",e.inputs.ipNo),r.Cb(3),r.oc("ngForOf",e.ipNos),r.Cb(6),r.oc("value",e.inputs.ptId),r.Cb(4),r.oc("value",e.inputs.name),r.Cb(4),r.oc("value",e.inputs.age),r.Cb(4),r.oc("value",e.inputs.gender),r.Cb(11),r.oc("ngModel",e.inputs.advance),r.Cb(2),r.oc("ngIf",!e.editMode),r.Cb(2),r.oc("ngIf",e.editMode),r.Cb(7),r.oc("ngModel",e.inputs.payType),r.Cb(1),r.oc("ngForOf",e.paymentMethods),r.Cb(1),r.oc("ngIf","Others"===e.inputs.payType),r.Cb(21),r.oc("ngForOf",e.advances))},directives:[o.y,o.r,o.u,o.v,o.B,n.m,o.w,o.d,n.n,a.b,C,_,I.c,I.f,O.b,M.c,M.a,c.j,k.b],pipes:[n.f],styles:[""]}),t})(),data:{page:"IP Advance"}},{path:"ip-billing",component:Gt,data:{page:"IP Billing"}}];let jt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[G.h.forChild(Yt)],G.h]}),t})(),Kt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({imports:[[o.m,o.x,n.c,J,a.c,s.b,k.c,M.b,I.e,O.c,jt]]}),t})()}}]);